T eam 5: Datadark 
Dataset #5 - Shelf behaviors CCTV
Hoang Hung
Tran Bao Nguyen
Dang Quoc Minh
Nguyen Dinh Quan
Hoang Thanh Tu 1. Introduction and 
Problem Statement Abstraction
 ⚠
 Huge data wasted
Most groceries are not 
able to leverage them
What problems can be 
treated with data of CCTV? 
Only some malls 
analyze those data
CCTV provides 
enormous data
CCTV appears in 
millions stores. Problem 1: Unsuitable Items arrangement
The need to bend down to reach products on lower shelves poses challenges for a signiﬁcant 
portion of the population. For example, it causes many annoying results
Accessibility Barriers: The current shelf layout makes it diﬃcult for 
individuals with mobility challenges to retrieve products. This lack 
of accessibility may deter potential customers and diminish the 
overall shopping experience.
Customer Safety: The act of bending down increases the risk of 
accidents, such as trips or falls, particularly among older 
customers. Problem 2: Unequal distribution
The imbalance manifests as crowded shelves in certain areas and empty or 
underutilized shelves in others, contributing to a suboptimal shopping 
experience for customers.
Operational Ineﬃciency: Unequal distribution complicates inventory 
management processes, as some empty places require a lot of money 
to rent while not generating proﬁt
Customer Frustration: Unequal distribution of products results in 
crowded shelves, making it challenging for customers to navigate and 
ﬁnd desired items.
Those two problems are common in many supermarkets and stores but not many 
people recognize it. Therefore, our MVP will pioneer to provide solutions for the 2 
above problems Insight: Heatmap and analytical data
Providing a heatmap and statistical data can be an eﬀective solution to address 
the two problems mentioned
Heatmap: a heatmap depicts the product distribution across 
shelves can quickly convey information. The heatmap visualizes 
crowded places where mostly people bend down with bright 
color, while others is presented with dark colors.
Statistical data: Alongside the heatmap, customer bend-down rates, 
product turnover rates, sales data, and popularity metrics for each 
product category can oﬀer a comprehensive understanding of 
demand patterns. 2. Solution Overview Shop owners mainly focus on where their customer shopping. However, we believe that: 
“How customer shopping is absolutely much that important”. 
Grocify is proposed to enhance the visibility of 
customer behavior in groceries and supermarkets.
We believe the solution plays a crucial role helping the 
owners in improving shop quality. 
Solution Overview
Accordingly, we propose an app “Grocify” with slogan
Grocify = Grocery + Identify Visualizaiton Pose HeatmapDistribution 
Heatmap
Detection Keypoint 
EstimatorHuman Tracking
Statistic Pose ComparisonCustomer 
Counter
Unique features
FeaturesFeatures 3. MVP Introduction MVP Introduction
GROCIFY is a responsive web application:
Utilize AI model on the architecture of YOLOV8 providing map and ﬁgure of 
customer movement with data from video. Product concept
Target users Supermarket managers and grocery owners, who want to know 
the distribution of customers for better goods arrangement.
Functional beneﬁts
Analyzing ‘distribution of buyers’ in speciﬁc time range by 
plotting heatmaps ⇒ optimize the market space.
Statisticizing ‘arranged inappropriate item’ at which people bend 
down to inspect items ⇒ improve customer satisfaction.
Connect to the camera’s storage and generate reports at the 
scheduled time ⇒ reduce operational time.
Platform Web (suitable for oﬃce users) and App (suitable for owners away 
from the store) 4. Methodologies, 
architecture design and 
tech stack - Project is not within budget
- Reduce the cost of accommodating 
changing user requirements
- Easier to get customer feedback on the 
development work that has been done. 
- Easier to get customer feedback on the 
development work that has been done. 
Grocify is built on the architecture of incremental development:
Methodology AI architecture Purpose
MERN stack
Apache Airflow
MongoDB
ChartJS
OpenCV Docker
Technology
      Real-time object                                       
detection 
  MVP 
   development      Deployment       Data storage &        
processing 
Cloudinary
YOLOv8 Render
Tech Stack Overview 5. Core functionality 
and performance 
metrics Core Functionality
Distributed Heatmap Visualization: 
Frequency that customers appear in the CCTV/Camera.
Stand/Kneel Pose Heatmap Visualization: 
Frequency customers stand/bend down at each shelf in CCTV.
Customer & Pose realtime detection: 
Realtime inference of AI model through CCTV data.
Mixed Heatmap: 
Combination of distributed and pose heatmap.
Retrieve statistic: 
Figures (people counter, kneel proportion, return product rate)
Replacement recommendation: 
Suggest which shelf row should be moved and where to move.
1
2
3
4
5
6 USE-CASE DIAGRAM
Due to the use-case diagram, our main ﬂow includes:
1. Shop owner can use video recorded from CCTV or upload new ones.
2. The system returns heatmap and analytical data of videos.
3. After receiving the heatmap and data, users review and then choose to delete/save record.
4. Users can retrieve and watch stored record at anytime, or they can delete helpless records. UI explanation
The header bar provides 
services, camera adding  
The center of app provide video 
in database recorded by camera, 
you can also upload new video if 
you do not have  ones
The navbar helps us to navigate 
the main page, the history, and 
setting manager
A heat map is displayed to 
represent the locations that do 
not have suitable goods 
arrangement
Some information extracted 
from the video is represented 
as charts and text Performance Metrics
To maintain the convenience and ease of use for Grocify, we consider 
application’s response time, with the focusing on working with large size 
ﬁle ( as CCTV source video always long, despite its low quality) as well as 
output image size. 
Of course, the accuracy and speed of AI model can not be neglected. As 
our model is in ﬁeld of object detection and classiﬁcation, we will use 
mAP (mean Average Precision). It is used to evaluate the accuracy of 
models in identifying and localizing objects within an image.
Application
Model Application evaluation
Processing time/ 
Video length
Video Length Time
Short (<15 mins) immediate
Medium (1 hour) < 1 min
Long (n hour) < log2(n) min
Realtime delay CCTV/Camera <1500ms
Output storage
Distribution heatmap < 500KB
Pose heatmap < 500KB
Model Evaluation (mAP)
Person 
Detection
Model
Precision > 0.95
Recall > 0.95
Pose 
Estimator 
Model
Precision > 0.9
Recall > 0.9
Whole Model Runtime
> 45 
frames/ 
second
Performance Metrics 6. Timeline 20-22/11
Setting up the 
repositories and 
databases
Start
1-8/12
 Integrate API 
Evaluate performance 
for frontend & backend 
Integrating
12-15/12
Setting up 
Docker image 
and deploy
Deployment
23-30/11
Developing 
components and 
layouts of MVP
Developing
9-11/12
Check the accuracy of the 
AI model, stability of the 
server, code refactor
QA/QC
16-17/12
Participate in
Datathon day
Demo
Timeline and Roadmap 7. Current limitations 
and future development Potential future development
Initiating new features: Integrating other recognition platform such as 
shoplifting detection, people shopping habit by analyzing the type of 
items customer buy
Integrate in public places: Our system can be installed in other 
public locations. 
For example, in library, the shelves are high and the amount of 
books in each shelf is extremely signiﬁcant, hence an AI model 
notify shelves need to be rearranged is important to save time 
for lectures and students. Limitations
Direct connection with CCTV is limited: In order to analyze the 
outcome of retail, our web-app requires access to the storage of 
past videos on CCTV instead of connecting directly like other 
service-IoT apps. 
CCTV is too expensive: For some middle and small groceries, 
especially in rural areas. Setting up the whole system may cost 
a considerable amount of money to operate. Conclusion
Apart from given information, we can conclude about our app as:
Key-point: customers have to bend down for items and some places 
in shop do not have equal popularity
Beneﬁts of AI model: improving the image processing stage, helping 
plotting heating with providing analytics data for retail sellers.
Value proposition: solution to two critical challenges: unequal product 
distribution and lost sales opportunities.
Potential impact: can adding more detection features such as 
shoplifting, shopping habits, etc in the app.